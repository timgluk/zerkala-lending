const singInButtons=[...document.querySelectorAll(".buttons__button_prime")],singInButtonFile=document.querySelector(".buttons__button_transparrent"),singInButtonReviews=document.querySelector(".reviews__button"),modal=document.querySelector(".modal-wrapper"),modalFile=document.querySelector(".modal-wrapper-file");singInButtonFile.addEventListener("click",(()=>{modalFile.classList.add("modal-wrapper_active")})),singInButtons.map((e=>{e.addEventListener("click",(()=>{modal.classList.add("modal-wrapper_active")}))})),singInButtonReviews.addEventListener("click",(()=>{modal.classList.add("modal-wrapper_active")})),modal.addEventListener("click",(e=>{e.target.classList.contains("modal-wrapper_active")&&modal.classList.remove("modal-wrapper_active")})),modalFile.addEventListener("click",(e=>{e.target.classList.contains("modal-wrapper_active")&&modalFile.classList.remove("modal-wrapper_active")}));const partsPrice=242,montagePrice=450,calculators=[...document.querySelectorAll(".calculator-wrap")];calculators.map((e=>{const t=e.querySelector(".description__text_link"),a=e.querySelector(".description__text_diss"),o=e.querySelector("#length"),n=e.querySelector("#width"),r=e.querySelector("#square"),l=e.querySelector(".out-wrap__total"),s=e.querySelector("#parts-sum"),c=e.querySelector("#montage"),i=parseFloat(e.querySelector(".out-wrap__input-price-square").innerHTML.replace(/[^0-9.]/g,"")),u=e.querySelector(".buttons__calculate"),d=e.querySelector(".buttons__button");let m;t.addEventListener("click",(()=>{t.style.display="none",a.style.display="inline"})),d.addEventListener("click",(()=>{modal.classList.add("modal-wrapper_active")})),u.addEventListener("click",(e=>{let t=+o?.value,a=+n?.value,u=+r?.value,d=u>0?u:t*a;(u>0||t*a===u)&&(m=d*i,l.textContent=`${m} ₽`,s.textContent=`${m+242*d} ₽`,c.textContent=`${m+242*d+450*d} ₽`),u>0&&t*a!=u&&(o.value=0,n.value=0,m=d*i,l.textContent=`${m} ₽`,s.textContent=`${m+242*d} ₽`,c.textContent=`${m+242*d+450*d} ₽`),u<=0&&(m=d*i,l.textContent=`${m} ₽`,s.textContent=`${m+242*d} ₽`,c.textContent=`${m+242*d+450*d} ₽`)}))}));const question=[...document.querySelectorAll(".question")];async function submitForm(e){e.preventDefault();try{const t=await fetch(e.target.action,{method:"POST",body:new FormData(e.target)});if(!t.ok)throw`Ошибка при обращении к серверу: ${t.status}`;const a=t.headers.get("content-type");if(!a||!a.includes("application/json"))throw"Не отправлено. Вы - РОБОТ!";const o=await t.json();if("success"!==o.result)throw console.log(o),o.info;alert(o.info),setTimeout((()=>{modal.classList.remove("modal-wrapper_active")}),"1000")}catch(e){alert(e)}}question.map((e=>e.addEventListener("click",(t=>{const a=e.nextElementSibling,o=e.querySelector(".question__arrow");a.classList.toggle("answer_active"),o.classList.toggle("question__arrow_active")}))));